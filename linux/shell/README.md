# shell脚本
[101个shell脚本](https://blog.51cto.com/zero01/2046242)
## cmd

### cp
```
-r 递归复制
-u 更新
```
cp -ru xx/* c

需要c目录存在


### find 
- 实例1：使用find命令查找相关文件后，再使用ls命令将它们的详细信息列出来

我们现在想把当前目录下所有的.o文件全部找出来，并用 ls -l 命令将它们列出来。实现这个需求的命令如下：
```
find . -name "*.o" -type f -exec ls -l {} \;
```

- 实例2：使用find命令查找相关文件后，再使用rm命令将它们删除

我们现在想把当前目录下所有的.o文件全部找出来，并用rm命令将它们删除。实现这个需求的命令如下：
```
find . -name "*.o" -exec rm {} \;
```

- 实例3：使用-exec选项的安全模式，将对每个匹配到的文件进行操作之前提示用户

在实例2中，我们匹配到文件后就立刻执行rm命令，这样操作有些危险，因为如果一旦误操作，有可能会引起灾难性的后果。

exec的安全模式就是为了避免这个问题而产生。它会在匹配到某个文件后，在进行操作之前会先问一下你，经过你的确认它才会进行相应操作。

同样的实例2的需求，如果采用安全模式的话，命令是这样的：
```
find . -name "*.o" -ok rm {} \;
```

- 实例4：搜索匹配到的文件中的关键内容

假如我现在有个很大型的项目（如Linux内核），我想在里面搜索一个含有某关键字的文件。我们可以使用grep命令检索所有的文件。这样做肯定是可以的，但如果项目很大的话，这样太耗时了，效率太低。

我们可以先用find命令找到所以相关文件，然后再用grep命令检索那些文件即可。因为已经使用find过滤一遍了，所以这样操作会节约很多时间，提高效率。

命令如下：
```
find . -name "*.h" -exec grep -rns "hello" {} \;
```
其实就是利用grep搜索字符串
```
grep -Er 'hello' .
```

- 实例5：查找文件并移动到指定目录

这个需求就比较简单了。比如我现在想把所有的.o文件找出来，然后新他们mv到buil目录。命令如

下：
```
find . -name "*.o" -exec cp {} build \;
```