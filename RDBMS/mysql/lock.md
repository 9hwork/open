https://www.cnblogs.com/chenqionghe/p/4845693.html

[未验证]MySql的优化器强制转化为匹配的类型，导致行锁升级为表锁。所以开发中一定要注意类型的匹配，避免行锁升级为表锁，影响并发性能。

update  where 索引列=‘xxx’
当更新数据的列存在普通索引时（尤其是普通索引重复率高时）会发生表锁
当操作的数据占整个数据的比例较大时，行锁将会升级